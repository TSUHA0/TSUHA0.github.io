[{"categories":["OS"],"content":"TsuhaOS-00 æ±‡ç¼–æ‚è°ˆ rax,eax,ax,ah,al å…³ç³» |63..32|31..16|15-8|7-0| |AH.|AL.| |AX.....| |EAX............| |RAX...................| 8086 å¯„å­˜å™¨ å¯„å­˜å™¨ æè¿° AX ç´¯åŠ æ•°æ®ç»“æœ BX æ•°æ®æ®µæ•°æ®æŒ‡é’ˆ CX å­—ç¬¦ä¸²å’Œå¾ªç¯è®¡æ•°å™¨ DX I/O æŒ‡é’ˆ SI æºæ•°æ®æŒ‡é’ˆ DI ç›®çš„æ•°æ®æŒ‡é’ˆ SP æ ˆæŒ‡é’ˆ BP æ ˆæ•°æ®æŒ‡é’ˆ CS ä»£ç æ®µå¯„å­˜å™¨ DS æ•°æ®æ®µå¯„å­˜å™¨ SS æ ˆæ®µå¯„å­˜å™¨ ES é¢å¤–çš„å¯„å­˜å™¨ IP csï¼šip ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ % è¡¨ç¤ºé€šé…ç¬¦ï¼Œ %.bin: %.asm nasm %\u003c -o %@ æ±‡ç¼–å‡½æ•°è°ƒç”¨==== jmp short start å ç”¨ä¸¤ä¸ªå­—èŠ‚ï¼ŒjmpæŒ‡ä»¤ä¸€ä¸ªå­—èŠ‚ï¼Œåœ°å€ä¸€ä¸ªå­—èŠ‚ï¼Œ-128 - 127 jmp near start å ç”¨ä¸‰ä¸ªå­—èŠ‚ï¼ŒjmpæŒ‡ä»¤ä¸€ä¸ªå­—èŠ‚ï¼Œåœ°å€ä¸¤ä¸ªå­—èŠ‚ï¼Œ-32768 - 32767 jmp far ; far function call 0:print_far ; push cs, push ip, jmp far print_far: ;ä½¿ç”¨retfè¿”å› retf ; pop ip, pop cs ; ä¸ä¸Šé¢çš„ä¸åŒ call print print: ret ; pop ip å†…ä¸­æ–­ 0x000 ~ 0x3ff çš„ 1kb ä¸ºä¸­æ–­å‘é‡è¡¨ï¼Œä¸€ä¸ªå‘é‡ç”± cs:ip ç»„æˆï¼Œå…± 32 ä½ 4Bï¼Œå› æ­¤æœ€å¤šå­˜ 256 ä¸ªä¸­æ–­å‘é‡ã€‚ ä¾‹å¦‚è¦å‘ç¬¬ 0x80 ä¸­æ–­å‘é‡æ³¨å†Œ print å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç ï¼Œæ³¨æ„éœ€è¦ç”¨ iret è¿”å›ï¼Œä»¥ä¸ºå¤šå‘æ ˆå‹å…¥äº† flags ã€‚ mov word [0x80 * 4], print mov word [0x80 * 4 + 2], 0 int 0x80 print: ; todo iret; pop ip, pop cs, pop flags ","date":"2023-03-14","objectID":"/posts/tsuhaos/tsuhaos-000-%E6%B1%87%E7%BC%96%E6%9D%82%E8%B0%88/:0:0","tags":["OS","æ“ä½œç³»ç»Ÿ"],"title":"TsuhaOS-000-æ±‡ç¼–æ‚è°ˆ","uri":"/posts/tsuhaos/tsuhaos-000-%E6%B1%87%E7%BC%96%E6%9D%82%E8%B0%88/"},{"categories":["OS"],"content":"TsuhaOS-01 é…ç½®ç¯å¢ƒ ","date":"2023-03-14","objectID":"/posts/tsuhaos/tsuhaos-001-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/:0:0","tags":["OS","æ“ä½œç³»ç»Ÿ"],"title":"TsuhaOS-001-é…ç½®ç¯å¢ƒ","uri":"/posts/tsuhaos/tsuhaos-001-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/"},{"categories":["OS"],"content":"1. å®‰è£…è½¯ä»¶åŒ… nasm bochs 2.7 ","date":"2023-03-14","objectID":"/posts/tsuhaos/tsuhaos-001-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/:1:0","tags":["OS","æ“ä½œç³»ç»Ÿ"],"title":"TsuhaOS-001-é…ç½®ç¯å¢ƒ","uri":"/posts/tsuhaos/tsuhaos-001-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/"},{"categories":["OS"],"content":"2. åœ¨å±å¹•ä¸Šæ‰“å°ä¸€ä¸ªå­—ç¬¦ bochsrc æ–‡ä»¶ï¼Œç”¨äºé…ç½® boch å¯åŠ¨å‚æ•°ï¼š display_library: x, options=\"gui_debug\" å¼€å¯å›¾å½¢åŒ– debugã€‚ boot: disk ç¡¬ç›˜å¯åŠ¨ã€‚ ata0-master: type=disk, path=\"master.img\", mode=flat æŒ‡å®š master.img æ–‡ä»¶ã€‚ # bochsrc æ–‡ä»¶ # configuration file generated by Bochs plugin_ctrl: unmapped=true, biosdev=true, speaker=true, extfpuirq=true, parallel=true, serial=true, iodebug=true config_interface: textconfig display_library: x, options=\"gui_debug\" memory: host=32, guest=32 romimage: file=\"/usr/local/share/bochs/BIOS-bochs-latest\", address=0x00000000, options=none vgaromimage: file=\"/usr/local/share/bochs/VGABIOS-lgpl-latest\" boot: disk floppy_bootsig_check: disabled=0 floppya: type=1_44 # no floppyb ata0: enabled=true, ioaddr1=0x1f0, ioaddr2=0x3f0, irq=14 ata0-master: type=disk, path=\"master.img\", mode=flat ata0-slave: type=none ata1: enabled=true, ioaddr1=0x170, ioaddr2=0x370, irq=15 ata1-master: type=none ata1-slave: type=none ata2: enabled=false ata3: enabled=false optromimage1: file=none optromimage2: file=none optromimage3: file=none optromimage4: file=none optramimage1: file=none optramimage2: file=none optramimage3: file=none optramimage4: file=none pci: enabled=1, chipset=i440fx, slot1=none, slot2=none, slot3=none, slot4=none, slot5=none vga: extension=vbe, update_freq=5, realtime=1, ddc=builtin cpu: count=1, ips=4000000, model=bx_generic, reset_on_triple_fault=1, cpuid_limit_winnt=0, ignore_bad_msrs=1, mwait_is_nop=0 cpuid: level=6, stepping=3, model=3, family=6, vendor_string=\"GenuineIntel\", brand_string=\" Intel(R) Pentium(R) 4 CPU \" cpuid: mmx=true, apic=xapic, simd=sse2, sse4a=false, misaligned_sse=false, sep=true cpuid: movbe=false, adx=false, aes=false, sha=false, xsave=false, xsaveopt=false, smep=false cpuid: smap=false, mwait=true print_timestamps: enabled=0 debugger_log: - magic_break: enabled=0 port_e9_hack: enabled=0 private_colormap: enabled=0 clock: sync=none, time0=local, rtc_sync=0 # no cmosimage log: - logprefix: %t%e%d debug: action=ignore info: action=report error: action=report panic: action=ask keyboard: type=mf, serial_delay=250, paste_delay=100000, user_shortcut=none mouse: type=ps2, enabled=false, toggle=ctrl+mbutton speaker: enabled=true, mode=system parport1: enabled=true, file=none parport2: enabled=false com1: enabled=true, mode=null com2: enabled=false com3: enabled=false com4: enabled=false makefileï¼š #makefile %.bin:%.asm nasm $\u003c -o $@ master.img:boot.bin yes | bximage -q -hd=16 -func=create -sectsize=512 -imgmode=flat master.img dd if=boot.bin of=master.img bs=512 count=1 conv=notrunc .PHONY:bochs bochs:master.img bochs -q .PHONY:clean clean: rm -rf *.bin rm -rf *.img boot.asm å†…å®¹å¦‚ä¸‹ï¼Œä½¿ç”¨ nasm boot.asm -o boot.bin ç¼–è¯‘ä¸º boot.binï¼Œå†™å…¥ master.imgã€‚ ; ä»£ç åœ¨å†…å­˜ä¸­çš„ä½ç½®ä¸º 0x7c00 [org 0x7c00] ; è®¾ç½®å±å¹•æ¨¡å¼ä¸ºæ–‡æœ¬æ¨¡å¼ï¼Œæ¸…é™¤å±å¹• mov ax,3 int 0x10 ; åˆå§‹åŒ–æ®µå¯„å­˜å™¨ mov ax, 0 mov ds, ax mov es, ax mov ss, ax mov sp, 0x7c00 ;ç¨‹åºæŒ‡é’ˆ ; 0xb8000 æ–‡æœ¬æ˜¾ç¤ºçš„å†…å­˜åŒºåŸŸï¼Œä»è¿™é‡Œå¼€å§‹æ˜¾ç¤ºæ–‡æœ¬ mov ax, 0xb800 mov ds, ax mov byte [0], 'H' ; é˜»å¡ jmp $ ; 0 å¡«å……å‰©ä½™åŒºåŸŸ times 510 - ($ - $$) db 0 ; ä¸»å¼•å¯¼æ‰‡åŒºçš„æœ€åä¸¤ä¸ªå­—èŠ‚å¿…é¡»æ˜¯ 0xaa55, ; dw 0xaa 0x55 ; ç”±äºæ˜¯å°ç«¯å­˜å‚¨ï¼Œæ‰€ä»¥è¦å…ˆå†™ 0x55 db 0x55, 0xaa å®æ¨¡å¼ print åˆ™ä½¿ç”¨ä»¥ä¸‹ä»£ç ï¼š ah ä½¿ç”¨ 0x0eï¼Œ al è¾“å…¥å…·ä½“å­—ç¬¦ï¼Œ è°ƒç”¨ int 0x10 è¾“å‡ºï¼Œ è¿™é‡Œçš„ int æŒ‡çš„æ˜¯ interrupt ä¸­æ–­ã€‚ mov si, booting call print print: mov ah, 0x0e .next: mov al, [si] cmp al, 0 jz .done int 0x10 inc si jmp .next .done: ret booting: ; \\n\\r db \"TsuhaOS booting...\", 10, 13, 0 å¦å¤–å¯ä»¥ç›´æ¥åœ¨ 0xb8000 åŒºåŸŸå†™å…¥å­—èŠ‚æ¥å®ç°æ‰“å°ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•ä¸å¥½æ‰“å°æ¢è¡Œå›è½¦ tprint: mov ax, 0xb800 mov es, ax .next: mov al, [si] cmp al, 0 mov ah, 0b0000_1110 ; ah å¯ä»¥æ§åˆ¶å­—ä½“æ ·å¼ jz .done mov bx, [video] mov [es:bx], ax add word [video], 2 inc si jmp .next .done: ret video: dw 0x0 msg: db \"TsuhaOS booting...\", 0 ","date":"2023-03-14","objectID":"/posts/tsuhaos/tsuhaos-001-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/:2:0","tags":["OS","æ“ä½œç³»ç»Ÿ"],"title":"TsuhaOS-001-é…ç½®ç¯å¢ƒ","uri":"/posts/tsuhaos/tsuhaos-001-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/"},{"categories":["OS"],"content":"3. è¯»å–ç¡¬ç›˜ mov edi, 0x1000 ; è¯»å–çš„ç›®æ ‡å†…å­˜ mov ecx, 2 ; èµ·å§‹æ‰‡åŒº mov bl, 4 ; æ‰‡åŒºæ•°é‡ call read_disk read_disk: ; è®¾ç½®è¯»å†™æ‰‡åŒºçš„æ•°é‡ mov dx, 0x1f2 mov al, bl out dx, al inc dx ; 0x1f3 mov al, cl ; èµ·å§‹æ‰‡åŒºä½8ä½ out dx, al inc dx ; 0x1f4 shr ecx, 8 mov al, cl ; èµ·å§‹æ‰‡åŒºä¸­8ä½ out dx, al inc dx ; 0x1f5 shr ecx, 8 mov al, cl ; èµ·å§‹æ‰‡åŒºé«˜8ä½ out dx, al inc dx ; 0x1f6 shr ecx, 8 and cl, 0b1111 ;é«˜å››ä½å˜ä¸º0ï¼Œ åªå‰©ä¸‹ä½å››ä½ mov al, 0b1110_0000; or al, cl out dx, al inc dx ;0x1f7 mov al, 0x20 ; è¯»ç¡¬ç›˜ out dx, al xor ecx, ecx ; æ¸…ç©º ecx mov cl, bl ; å¾—åˆ°è¯»å†™æ‰‡åŒºæ•°é‡ .read: push cx call .waits call .reads pop cx loop .read ret .waits: mov dx, 0x1f7 .check: in al, dx jmp $+2 ; ç›´æ¥è·³è½¬åˆ°ä¸‹ä¸€è¡Œï¼Œnop æ¶ˆè€—æ—¶é’Ÿå‘¨æœŸ jmp $+2 ; ä¸€ç‚¹ç‚¹å»¶è¿Ÿï¼Œç¡¬ç›˜è¦æ±‚ jmp $+2 and al, 0b1000_1000 cmp al, 0b0000_1000 jnz .check ret .reads: mov dx, 0x1f0 mov cx, 256 ; ä¸€ä¸ªæ‰‡åŒº 256 å­— .readw: in ax, dx jmp $+2 ; ç›´æ¥è·³è½¬åˆ°ä¸‹ä¸€è¡Œï¼Œnop æ¶ˆè€—æ—¶é’Ÿå‘¨æœŸ jmp $+2 ; ä¸€ç‚¹ç‚¹å»¶è¿Ÿï¼Œç¡¬ç›˜è¦æ±‚ jmp $+2 mov [edi], ax add edi, 2 loop .readw ret ","date":"2023-03-14","objectID":"/posts/tsuhaos/tsuhaos-001-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/:3:0","tags":["OS","æ“ä½œç³»ç»Ÿ"],"title":"TsuhaOS-001-é…ç½®ç¯å¢ƒ","uri":"/posts/tsuhaos/tsuhaos-001-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/"},{"categories":["OS"],"content":"4. å†…æ ¸åŠ è½½å™¨ å†…æ ¸åŠ è½½å™¨ï¼š å†™å†…æ ¸åŠ è½½å™¨ loader å°† loader å†™å…¥ç¡¬ç›˜ åœ¨ä¸»å¼•å¯¼æ‰‡åŒºè¯»å…¥ æ£€æµ‹æ­£ç¡®æ€§ è·³è½¬åˆ° loader æ‰§è¡Œ å®æ¨¡å¼çš„å†…å­˜å¸ƒå±€ï¼š èµ·å§‹åœ°å€ ç»“æŸåœ°å€ å¤§å° ç”¨é€” 0x000 0x3FF 1KB ä¸­æ–­å‘é‡è¡¨ 0x400 0x4FF 256B BIOS æ•°æ®åŒº 0x500 0x7BFF 29.75 KB å¯ç”¨åŒºåŸŸ 0x7C00 0x7DFF 512B MBR åŠ è½½åŒºåŸŸ 0x7E00 0x9FBFF 607.6KB å¯ç”¨åŒºåŸŸ 0x9FC00 0x9FFFF 1KB æ‰©å±• BIOS æ•°æ®åŒº 0xA0000 0xAFFFF 64KB ç”¨äºå½©è‰²æ˜¾ç¤ºé€‚é…å™¨ 0xB0000 0xB7FFF 32KB ç”¨äºé»‘ç™½æ˜¾ç¤ºé€‚é…å™¨ 0xB8000 0xBFFFF 32KB ç”¨äºæ–‡æœ¬æ˜¾ç¤ºé€‚é…å™¨ 0xC0000 0xC7FFF 32KB æ˜¾ç¤ºé€‚é…å™¨ BIOS 0xC8000 0xEFFFF 160KB æ˜ å°„å†…å­˜ 0xF0000 0xFFFEF 64KB-16B ç³»ç»Ÿ BIOS 0xFFFF0 0xFFFFF 16B ç³»ç»Ÿ BIOS å…¥å£åœ°å€ ","date":"2023-03-14","objectID":"/posts/tsuhaos/tsuhaos-001-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/:4:0","tags":["OS","æ“ä½œç³»ç»Ÿ"],"title":"TsuhaOS-001-é…ç½®ç¯å¢ƒ","uri":"/posts/tsuhaos/tsuhaos-001-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/"},{"categories":["OS"],"content":"5.å†…å­˜æ£€æµ‹ æ“ä½œç³»ç»Ÿä¸çŸ¥é“è¦è¿è¡Œåœ¨ä»€ä¹ˆæœºå™¨ä¸Šï¼Œä¸ºäº†å…¼å®¹æœºå™¨ï¼Œéœ€è¦å¯¹å†…å­˜åŒºåŸŸè¿›è¡Œæ£€æµ‹ï¼Œåˆ¤åˆ«å“ªäº›åŒºåŸŸå¯ç”¨ã€‚ BIOS ç³»ç»Ÿè°ƒç”¨ä¸º0x15 Address Range Descriptor Structure ARDS å­—èŠ‚åç§»é‡ å±æ€§åç§° æè¿° 0 BaseAddrLow åŸºåœ°å€çš„ä½ 32 ä½ 4 BaseAddrHigh åŸºåœ°å€çš„é«˜ 32 ä½ 8 LengthLow å†…å­˜é•¿åº¦çš„ä½ 32 ä½ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ 12 LengthHigh å†…å­˜é•¿åº¦çš„é«˜ 32 ä½ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ 16 Type æœ¬æ®µå†…å­˜çš„ç±»å‹ Type å­—æ®µ Type å€¼ åç§° æè¿° 1 AddressRangeMemory è¿™æ®µå†…å­˜å¯ä»¥è¢«æ“ä½œç³»ç»Ÿä½¿ç”¨ 2 AddressRangeReserved å†…å­˜ä½¿ç”¨ä¸­æˆ–è€…è¢«ç³»ç»Ÿä¿ç•™ï¼Œæ“ä½œç³»ç»Ÿä¸å¯ä»¥ç”¨æ­¤å†…å­˜ å…¶ä»– æœªå®šä¹‰ æœªå®šä¹‰ï¼Œå°†æ¥ä¼šç”¨åˆ°ï¼ç›®å‰ä¿ç•™ï¼ ä½†æ˜¯éœ€è¦æ“ä½œç³»ç»Ÿä¸€æ ·å°†å…¶è§†ä¸ºARR(AddressRangeReserved) è°ƒç”¨å‰è¾“å…¥ å¯„å­˜å™¨æˆ–çŠ¶æ€ä½ å‚æ•°ç”¨é€” EAX å­åŠŸèƒ½å·ï¼š EAX å¯„å­˜å™¨ç”¨æ¥æŒ‡å®šå­åŠŸèƒ½å·ï¼Œæ­¤å¤„è¾“å…¥ä¸º 0xE820 EBX å†…å­˜ä¿¡æ¯éœ€è¦æŒ‰ç±»å‹åˆ†å¤šæ¬¡è¿”å›ï¼Œç”±äºæ¯æ¬¡æ‰§è¡Œä¸€æ¬¡ä¸­æ–­éƒ½åªè¿”å›ä¸€ç§ç±»å‹å†…å­˜çš„ARDS ç»“æ„ï¼Œæ‰€ä»¥è¦è®°å½•ä¸‹ä¸€ä¸ªå¾…è¿”å›çš„å†…å­˜ARDSï¼Œåœ¨ä¸‹ä¸€æ¬¡ä¸­æ–­è°ƒç”¨æ—¶é€šè¿‡æ­¤å€¼å‘Šè¯‰ BIOS è¯¥è¿”å›å“ªä¸ª ARDSï¼Œè¿™å°±æ˜¯åç»­å€¼çš„ä½œç”¨ã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶ä¸€å®šè¦ç½®ä¸º0ï¼ŒEBX å…·ä½“å€¼æˆ‘ä»¬ä¸ç”¨å…³æ³¨ï¼Œå­—å–å†³äºå…·ä½“ BIOS çš„å®ç°ï¼Œæ¯æ¬¡ä¸­æ–­è¿”å›åï¼ŒBIOS ä¼šæ›´æ–°æ­¤å€¼ ES: DI ARDS ç¼“å†²åŒºï¼šBIOS å°†è·å–åˆ°çš„å†…å­˜ä¿¡æ¯å†™å…¥æ­¤å¯„å­˜å™¨æŒ‡å‘çš„å†…å­˜ï¼Œæ¯æ¬¡éƒ½ä»¥ ARDS æ ¼å¼è¿”å› ECX ARDS ç»“æ„çš„å­—èŠ‚å¤§å°ï¼šç”¨æ¥æŒ‡ç¤º BIOS å†™å…¥çš„å­—èŠ‚æ•°ã€‚è°ƒç”¨è€…å’Œ BIOS éƒ½åŒæ—¶æ”¯æŒçš„å¤§å°æ˜¯ 20 å­—èŠ‚ï¼Œå°†æ¥ä¹Ÿè®¸ä¼šæ‰©å±•æ­¤ç»“æ„ EDX å›ºå®šä¸ºç­¾åæ ‡è®° 0x534d4150ï¼Œæ­¤åå…­è¿›åˆ¶æ•°å­—æ˜¯å­—ç¬¦ä¸² SMAP çš„ASCII ç ï¼š BIOS å°†è°ƒç”¨è€…æ­£åœ¨è¯·æ±‚çš„å†…å­˜ä¿¡æ¯å†™å…¥ ES: DI å¯„å­˜å™¨æ‰€æŒ‡å‘çš„ARDS ç¼“å†²åŒºåï¼Œå†ç”¨æ­¤ç­¾åæ ¡éªŒå…¶ä¸­çš„ä¿¡æ¯ è¿”å›å€¼ å¯„å­˜å™¨æˆ–çŠ¶æ€ä½ å‚æ•°ç”¨é€” CF ä½ è‹¥CF ä½ä¸º 0 è¡¨ç¤ºè°ƒç”¨æœªå‡ºé”™ï¼ŒCF ä¸º1ï¼Œè¡¨ç¤ºè°ƒç”¨å‡ºé”™ EAX å­—ç¬¦ä¸² SMAP çš„ ASCII ç  0x534d4150 ES:DI ARDS ç¼“å†²åŒºåœ°å€ï¼ŒåŒè¾“å…¥å€¼æ˜¯ä¸€æ ·çš„ï¼Œè¿”å›æ—¶æ­¤ç»“æ„ä¸­å·±ç»è¢«BIOS å¡«å……äº†å†…å­˜ä¿¡æ¯ ECX BIOS å†™å…¥åˆ° ES:DI æ‰€æŒ‡å‘çš„ ARDS ç»“æ„ä¸­çš„å­—èŠ‚æ•°ï¼ŒBIOS æœ€å°å†™å…¥ 20 å­—èŠ‚ EBX åç»­å€¼ï¼šä¸‹ä¸€ä¸ª ARDS çš„ä½ç½®ã€‚æ¯æ¬¡ä¸­æ–­è¿”å›åï¼ŒBIOS ä¼šæ›´æ–°æ­¤å€¼ï¼Œ BIOS é€šè¿‡æ­¤å€¼å¯ä»¥æ‰¾åˆ°ä¸‹ä¸€ä¸ªå¾…è¿”å›çš„ ARDS ç»“æ„ï¼Œå’±ä»¬ä¸éœ€è¦æ”¹å˜ EBX çš„å€¼ï¼Œä¸‹ä¸€æ¬¡ä¸­æ–­è°ƒç”¨æ—¶è¿˜ä¼šç”¨åˆ°å®ƒã€‚åœ¨ CF ä½ä¸º 0 çš„æƒ…å†µä¸‹ï¼Œè‹¥è¿”å›åçš„ EBX å€¼ä¸º 0ï¼Œè¡¨ç¤ºè¿™æ˜¯æœ€åä¸€ä¸ª ARDS ç»“æ„ ","date":"2023-03-14","objectID":"/posts/tsuhaos/tsuhaos-001-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/:5:0","tags":["OS","æ“ä½œç³»ç»Ÿ"],"title":"TsuhaOS-001-é…ç½®ç¯å¢ƒ","uri":"/posts/tsuhaos/tsuhaos-001-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/"},{"categories":["è¯­æ³•"],"content":"1. const æŒ‡é’ˆ int main() { int a = 1; const int ic = 1; int *p1 = \u0026a; int *const p2 = \u0026a; const int *const p3 = \u0026a; const int *p4 = \u0026a; // p1 = p3; // æ™®é€šæŒ‡é’ˆä¸èƒ½æŒ‡å‘å¸¸é‡, invalid conversion from â€˜const int*â€™ to â€˜int*â€™ // p1 = \u0026ic;// æ™®é€šæŒ‡é’ˆä¸èƒ½æŒ‡å‘å¸¸é‡ // p3 = \u0026ic; // å¸¸é‡æŒ‡é’ˆä¸èƒ½è¢«é‡æ–°èµ‹å€¼ // p2 = p1; // å¸¸é‡æŒ‡é’ˆä¸èƒ½è¢«é‡æ–°èµ‹å€¼ p1 = p2; // ok p4 = \u0026ic;// ok p4 = p1; // ok const int \u0026r = a; return 0; } ","date":"2022-12-27","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BB%E4%B9%A6%E5%AD%A6%E4%B9%A0/cppprimer%E5%AD%A6%E4%B9%A0/cppprimer%E5%AD%A6%E4%B9%A001/:1:0","tags":["cpp","è¯­æ³•"],"title":"CppPrimerå­¦ä¹ 01","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BB%E4%B9%A6%E5%AD%A6%E4%B9%A0/cppprimer%E5%AD%A6%E4%B9%A0/cppprimer%E5%AD%A6%E4%B9%A001/"},{"categories":["ç®—æ³•"],"content":"ACWINGç®—æ³•å­¦ä¹ è®°å½• é¢˜ç›® æ¬¡æ•° çŸ¥è¯†ç‚¹ çŠ¶æ€(1-10) 785.å¿«é€Ÿæ’åº 2 æ’åº 1 786.ç¬¬kä¸ªæ•° 2 æŸ¥æ‰¾ 2 912. æ’åºæ•°ç»„ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰ å½’å¹¶ 2 æ’åº 2 å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰ å½’å¹¶ 2 æ’åº 1 797. å·®åˆ† - AcWingé¢˜åº“ 1 å·®åˆ† 1 3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² - åŠ›æ‰£ï¼ˆLeetcodeï¼‰ 1 åŒæŒ‡é’ˆ 1 1455. æ‹›è˜ - AcWingé¢˜åº“ 1 çº¦ç‘Ÿå¤«ç¯ï¼ŒDP 1 ","date":"2022-12-14","objectID":"/posts/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/acwing%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/:0:0","tags":["acwing"],"title":"AcWingç®—æ³•å­¦ä¹ è®°å½•","uri":"/posts/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/acwing%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/"},{"categories":["ç®—æ³•"],"content":"1. å¿«é€Ÿæ’åº #include \u003cbits/stdc++.h\u003e using namespace std; const int N = 1e5 + 10; int q[N]; void quick_sort(int q[], int l, int r) { if (l \u003e= r) return; // è¾¹ç•Œæ¡ä»¶ï¼Œæ³¨æ„ï¼ï¼ int x = q[l + r \u003e\u003e 1], i = l - 1, j = r + 1; while (i \u003c j) { while(q[++i] \u003c x); while(q[--j] \u003e x); if (i \u003c j) swap(q[i], q[j]); } quick_sort(q, l, j); quick_sort(q, j + 1, r); } int main() { int n; cin \u003e\u003e n; for (int i = 0; i \u003c n; ++i) cin \u003e\u003e q[i]; quick_sort(q, 0, n - 1); for (int i = 0; i \u003c n; ++i) cout \u003c\u003c q[i] \u003c\u003c \" \"; return 0; } ","date":"2022-12-14","objectID":"/posts/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/acwing%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/:1:0","tags":["acwing"],"title":"AcWingç®—æ³•å­¦ä¹ è®°å½•","uri":"/posts/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/acwing%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/"},{"categories":["ç®—æ³•"],"content":"2. æ’åºæ•°ç»„ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰ å½’å¹¶ class Solution { public: vector\u003cint\u003e tmp; void merge_sort(vector\u003cint\u003e \u0026nums, int l, int r) { if (l \u003e= r) return; int mid = l + r \u003e\u003e 1; merge_sort(nums, l, mid), merge_sort(nums, mid + 1, r); int i = l, j = mid + 1, k = 0; // içš„è¾¹ç•Œèµ‹å€¼éœ€è¦æ³¨æ„ï¼ï¼ä¸æ˜¯0ï¼Œæ˜¯l while (i \u003c= mid \u0026\u0026 j \u003c= r) { if (nums[i] \u003c= nums[j]) tmp[k++] = nums[i++]; else tmp[k++] = nums[j++]; } while(i \u003c= mid) tmp[k++] = nums[i++]; while(j \u003c= r) tmp[k++] = nums[j++]; for (int i = l, j = 0; i \u003c= r; ++i, ++j) nums[i] = tmp[j]; } vector\u003cint\u003e sortArray(vector\u003cint\u003e\u0026 nums) { tmp.resize(nums.size()); merge_sort(nums, 0, nums.size() - 1); return nums; } }; ","date":"2022-12-14","objectID":"/posts/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/acwing%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/:2:0","tags":["acwing"],"title":"AcWingç®—æ³•å­¦ä¹ è®°å½•","uri":"/posts/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/acwing%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/"},{"categories":["ç®—æ³•"],"content":"3. å·®åˆ† - AcWingé¢˜åº“ #include \u003cbits/stdc++.h\u003e using namespace std; const int N = 1e5+10; int q[N], cnt[N]; int main() { int n, m; cin \u003e\u003e n \u003e\u003e m; for (int i = 1; i \u003c= n; i++) cin \u003e\u003e q[i]; for (int i = 0; i \u003c m; i++) { int l, r, c; cin \u003e\u003e l \u003e\u003e r \u003e\u003e c; cnt[l] += c; // æ³¨æ„æ˜¯ += èµ‹å€¼ cnt[r + 1] -= c; } int curr = 0; for (int i = 1; i \u003c= n; i ++) { curr += cnt[i]; q[i] += curr; } for (int i = 1; i \u003c= n; i ++) cout \u003c\u003c q[i] \u003c\u003c \" \"; return 0; } ","date":"2022-12-14","objectID":"/posts/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/acwing%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/:3:0","tags":["acwing"],"title":"AcWingç®—æ³•å­¦ä¹ è®°å½•","uri":"/posts/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/acwing%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/"},{"categories":["ç®—æ³•"],"content":"4. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² - åŠ›æ‰£ï¼ˆLeetcodeï¼‰ class Solution { public: int lengthOfLongestSubstring(string s) { int l = 0, r = -1, ret = 0; map\u003cchar, bool\u003e dic; while (++ r \u003c s.size()) { if(dic[s[r]]) { while (++l \u003c= r) { dic[s[l - 1]] = false; if (s[l - 1] == s[r]) break; } } dic[s[r]] = true; // printf(\"r:%d, l:%d \\n\", r, l); ret = max(ret, r - l + 1); } return ret; } }; ","date":"2022-12-14","objectID":"/posts/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/acwing%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/:4:0","tags":["acwing"],"title":"AcWingç®—æ³•å­¦ä¹ è®°å½•","uri":"/posts/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/acwing%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/"},{"categories":["ç®—æ³•"],"content":"5. æ‹›è˜ - AcWingé¢˜åº“ #include \u003cbits/stdc++.h\u003e using namespace std; const int M = 1010; int A[M]; int main() { int n; cin \u003e\u003e n; while (n-- \u003e 0) { int num, m; cin \u003e\u003e num \u003e\u003e m; for (int i = 0; i \u003c m; i ++) cin \u003e\u003e A[i]; // å‡è®¾nä¸ªäººï¼Œé€‰A[K] å»æ±‚æœ€åå‰©ä¸‹çš„åæ ‡ä¸º f(n, k) // åˆ™å‡è®¾ç¬¬ A[k] ä¸ªäººçš„åæ ‡é‡ç½®ä¸º0 // ç°åœ¨è½®åˆ° n - 1 ä¸ªäººï¼Œ é€‰ A[k + 1] å»æ±‚æœ€åå‰©ä¸‹çš„åæ ‡ä¸º f(n - 1, k + 1) // è¿™ä¸ªåæ ‡å’Œå®é™…çš„åæ ‡ç›¸å·® A[k]ï¼Œ ä¹Ÿå°±æ˜¯ f(n - 1, k + 1) å’Œ f(n, k) ç›¸å·® A[k] // -\u003e f(n, k) = ï¼ˆf(n - 1, k + 1) + A[k]ï¼‰% n int x = 0; // å‡è®¾å°±å‰©ä¸‹1ä¸ªäººï¼Œä»–çš„ä¸‹æ ‡æ˜¯0ï¼Œç„¶åå¼€å§‹è®¡ç®—å‰©ä¸‹2ä¸ªäººçš„æƒ…å†µ for (int i = 2; i \u003c= num; i ++) { x = ( x + A[(num - i) % m] ) % i; } cout \u003c\u003c x \u003c\u003c endl; } return 0; } ","date":"2022-12-14","objectID":"/posts/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/acwing%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/:5:0","tags":["acwing"],"title":"AcWingç®—æ³•å­¦ä¹ è®°å½•","uri":"/posts/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/acwing%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/"},{"categories":null,"content":"èµ„è®¯ TSUHA0/TSUHA0 /README.md ### Hi there ğŸ‘‹ ğŸŒ± Iâ€™m currently learning cpp, rust \u003c!-- **TSUHA0/TSUHA0** is a âœ¨ _special_ âœ¨ repository because its `README.md` (this file) appears on your GitHub profile. Here are some ideas to get you started: - ğŸ”­ Iâ€™m currently working on ... - ğŸŒ± Iâ€™m currently learning ... - ğŸ‘¯ Iâ€™m looking to collaborate on ... - ğŸ¤” Iâ€™m looking for help with ... - ğŸ’¬ Ask me about ... - ğŸ“« How to reach me: ... - ğŸ˜„ Pronouns: ... - âš¡ Fun fact: ... --\u003e å…³äºæˆ‘ è§’è‰²ï¼š å¤§å­¦ç”Ÿ ç ”ç©¶ç”Ÿ ç ”ç©¶ç”Ÿ \u0026 å®ä¹ ç”Ÿ èŒä¸šï¼š æ•°é€šå¼€å‘ ","date":"2021-09-07","objectID":"/about/:1:0","tags":null,"title":"å…³äº","uri":"/about/"}]